$branding-color: #ef9d3d !default;
$menu-color: white !default;
$menu-icon-color: $branding-color !default;
$header-color: $menu-color !default;
$footer-color: white !default;

$header-background: #232323 !default;
$footer-background: $header-background !default;
$footer-border-color: #353535 !default;

$header-height: 55px !default;
$footer-height: 40px !default;
$header-footer-height: $header-height + $footer-height !default;
$header-footer-padding: 6px !default;

// https://developer.mozilla.org/en-US/docs/Web/CSS/:root
:root {
    --vh: 1vh;
    --header-height: #{$header-height};
    --footer-height: #{$footer-height};
    --header-footer-height: #{$header-footer-height};
    --content-height: calc(var(--vh, 1vh) * 100 - var(--header-footer-height) - #{$header-footer-padding});
}

.layout {
    // position: relative;
    
    // per default auf none im HTML-File
    body.loaded & {
        opacity: 1;
        transition: opacity 1s ease-in-out;

        .loading {
            display: none;
        }
    }

    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    justify-content: flex-start; // ↓
    align-content: stretch; // =
    align-items: flex-start; // ⇾

    &__header, &__content, &__footer {
        flex-grow: 1;

        width: 100%;
        //align-self: stretch;
    }

    &__header {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: flex-start; // ⇾
        align-content: space-around; // ||
        align-items: center; // ↓

        background-color: $header-background !important;

        .branding, .logo {
            margin-right: 2em;
        }

        .spacer {
            flex-grow: 1;
        }
        
        .branding {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: flex-start; // ⇾
            align-content: space-between; // ||
            align-items: center; // ↓

            .title {
                color: $branding-color;

                font-family: 'Orbitron', sans-serif;
                font-weight: 500;
                font-size: 30px;
                text-rendering: geometricPrecision;

                margin-left: 5px;

                > span {
                    color: white;
                }
            }
        }

        color: $header-color;
        a { color: $header-color; }

        nav {
            color: $menu-color;
            a {
                color: $menu-color;

                .iconify {
                    margin-top: -4px;
                    margin-left: 0.15em;
                    margin-right: 0.15em;
                }
            }

            i {
                color: $menu-icon-color;
            }
            
            // full width
            flex-grow: 1;

            //max-width: 100%;

            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: flex-start; // ⇾
            align-content: space-between; // ||
            align-items: center; // ↓

            a {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: flex-start; // ⇾
                align-content: space-between; // ||
                align-items: flex-end; // ↓
            }

            i {
                margin-right: 0.25em;
                &.material-icons {
                    font-size: 18px;
                }
            }

            > .spacer {
                flex-grow: 1;
                align-self: end;
            }

            .separator {
                margin-left: 0.25em;
                margin-right: 0.25em;
            }
        }
    }

    &__content {
        // --content-height: calc(var(--vh, 1vh) * 100 - (#{$header-footer-height} * 2));

        position: relative;

        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: flex-start; // ⇾

        align-content: flex-start; // ||

        // Füllt die Seite vertikal aus,
        // Produziert aber ziemliche Abstände!
        // align-content: space-between; // ||

        align-items: flex-start; // ↓

        padding: 12px;

        // Fallback for browsers that do not support Custom Properties
        //      https://caniuse.com/#feat=css-variables
        //
        height: calc(100vh - (#{$header-footer-height} - #{$header-footer-padding}));
        max-height: calc(100vh - (#{$header-footer-height} - #{$header-footer-padding}));

        height: calc(var(--content-height, 100%));
        max-height: calc(var(--content-height, 100%));

        overflow-y: scroll;
        // padding: 10px;

        > * {
            flex-shrink: 1; flex-grow: 1;
            margin-left: auto;
            margin-right: auto;
        }

        // Super easy responsive Row and Columns in straight up CSS
        // Weitere Infos:
        //      https://dev.to/drews256/ridiculously-easy-row-and-column-layouts-with-flexbox-1k01
        .row {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            width: 100%;
        }

        .column {
            display: flex;
            flex-direction: column;
            flex-basis: 100%;
            flex: 1;
        }


        // Usage:
        //      <div class="layout__content col-2">
        //          <div>
        //              Content 1
        //          </div>
        //          <div>
        //              Content 2
        //          </div>
        //      </div>
        &.col-2 {
            // CSS-Grid: https://css-tricks.com/snippets/css/complete-guide-grid/
            display: grid;
            grid-gap: 10px;
            grid-template-columns:  1fr 1fr;
            // grid-template-rows: 220px auto; // 1fr 2fr;

            // justify-items: start | end | center | stretch; // ⇾
            // align-items: start | end | center | stretch; // ↓

            // justify-content: start | end | center | stretch | space-around | space-between | space-evenly; // ⇾
            // align-content: start | end | center | stretch | space-around | space-between | space-evenly; // ↓

            > * {
                margin-left: inherit;
                margin-right: inherit;
            }
        }
    }

    &__header,
    &__footer {
        padding: $header-footer-padding;

        a { text-decoration: none; }
    }

    &__header {
        // line-height: calc(var(--header-height, $header-height) - (#{$header-footer-padding} * 2));
        height: var(--header-height, $header-height);
    }
    &__footer {
        // line-height: calc(var(--footer-height, $footer-height) - (#{$header-footer-padding} * 2));
        height: var(--footer-height, $footer-height);
    }

    &__footer {
        position: absolute;
        //// top: calc(var(--vh, 1vh) * 100 - (#{$header-footer-height}));
        //
        bottom: 0;
        left: 0;
        
        background-color: $footer-background;
        border-bottom: 5px solid $footer-border-color;

        color: $footer-color;
        a { color: $footer-color; }

        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between; // ⇾
        align-content: center; // ||
        align-items: center; // ↓

        .is-left {
            font-size: 80%;
        }

        .is-right {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: space-between; // ⇾
            align-content: space-between; // ||
            align-items: center; // ↓
            font-size: 80%;
            
            .version_block {
                display: inline-block;

                .published {
                    font-weight: 400;
                }
            }

            .separator {
                margin: 0 0.25em;
            }

            .devmode {
                font-weight: bold;
                color: red;
            }

            .production {
                font-weight: bold;
                color: green;
            }
        }


    }
}
